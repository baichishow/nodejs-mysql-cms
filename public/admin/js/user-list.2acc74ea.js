"use strict";(self["webpackChunkvue_cms_admin"]=self["webpackChunkvue_cms_admin"]||[]).push([[804],{4586:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var l=function(){var e=this,t=e._self._c;return t("el-card",{},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[e._v("用户列表")])]),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"user_id",label:"#"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t("el-table-column",{attrs:{prop:"tel",label:"手机"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),t("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-avatar",{attrs:{shape:"square",src:e.row.avatar}})]}}])}),t("el-table-column",{attrs:{prop:"usable",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:1===a.row.usable?"success":"info"}},[e._v(" "+e._s(1===a.row.usable?"启用":"禁用")+" ")])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{icon:"el-icon-switch-button",type:1===a.row.usable?"info":"success",plain:""},on:{click:function(t){return e.handleSwitch(a.row)}}},[e._v(" "+e._s(1===a.row.usable?"禁用":"启用")+" ")]),t("el-button",{attrs:{icon:"el-icon-delete",type:"danger",plain:""},on:{click:function(t){return e.handleRemove(a.row.user_id,a.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1)},s=[],n=a(1862),r={data(){return{tableData:[]}},created(){document.title="用户列表",this.loadList()},methods:{async loadList(){let{status:e,data:t}=await n.n5.list();e&&(this.tableData=t)},handleRemove(e,t){this.$confirm("确定要删除此账户吗？",{type:"warning"}).then((async()=>{let{status:a}=await n.n5.remove({user_id:e});a&&(this.tableData.splice(t,1),this.$message.success("删除成功！"))})).catch((()=>{this.$message.info("取消成功！")}))},handleSwitch(e){let{user_id:t,usable:a}=e;this.$confirm(`此操作将${1===a?"禁用":"启用"}该用户，是否继续？`,{type:"warning"}).then((async()=>{a=1===a?0:1;let{status:l,msg:s}=await n.n5.toggle({user_id:t,usable:a});l&&(Object.assign(e,{usable:a}),this.$message.success(s))})).catch((()=>{this.$message.info("取消成功")}))}}},u=r,o=a(1001),c=(0,o.Z)(u,l,s,!1,null,null,null),i=c.exports}}]);
//# sourceMappingURL=user-list.2acc74ea.js.map
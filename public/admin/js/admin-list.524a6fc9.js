"use strict";(self["webpackChunkvue_cms_admin"]=self["webpackChunkvue_cms_admin"]||[]).push([[880],{1958:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var l=function(){var t=this,e=t._self._c;return e("el-card",{},[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("管理员列表")])]),e("el-table",{attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"user_id",label:"#"}}),e("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e("el-table-column",{attrs:{prop:"fullname",label:"姓名"}}),e("el-table-column",{attrs:{prop:"sex",label:"性别"}}),e("el-table-column",{attrs:{prop:"tel",label:"手机"}}),e("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),e("el-table-column",{attrs:{label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-avatar",{attrs:{shape:"square",src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{label:"角色"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:a.row.role_id?"":"info"}},[t._v(" "+t._s(a.row.role_name||"待分配")+" ")])]}}])}),e("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[1===a.row.usable?e("el-tag",{attrs:{type:"success"}},[t._v("正常")]):t._e(),-1===a.row.usable?e("el-tag",{attrs:{type:"warning"}},[t._v("审核中")]):t._e(),-2===a.row.usable?e("el-tag",{attrs:{type:"info"}},[t._v("禁用")]):t._e()]}}])}),e("el-table-column",{attrs:{label:"操作",width:"270"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{staticClass:"am-margin-right-sm",attrs:{href:`#/system/admin/edit/${a.row.user_id}`,type:"primary"}},[e("el-button",{attrs:{icon:"el-icon-edit",type:"primary",plain:""}},[t._v("编辑")])],1),e("el-button",{attrs:{disabled:1===a.row.user_id,type:"warning",icon:"el-icon-delete",plain:""}},[t._v(" 审核 ")]),e("el-button",{attrs:{disabled:1===a.row.user_id,type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(e){return t.handleRemove(a.row.user_id,a.$index)}}},[t._v(" 删除 ")])]}}])})],1)],1)},s=[],r=a(1803),n={data(){return{tableData:[]}},created(){document.title="管理员列表",this.loadList()},methods:{async loadList(){let{status:t,data:e}=await r.wt.list();t&&(this.tableData=e)},handleRemove(t,e){this.$confirm("此操作将永久删除该管理员, 是否继续?",{type:"warning"}).then((async()=>{let{status:a,msg:l}=await r.wt.remove({user_id:t});a&&(this.tableData.splice(e,1),this.$message.success(l))})).catch((()=>{this.$message.info("取消成功")}))}}},o=n,i=a(1001),u=(0,i.Z)(o,l,s,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=admin-list.524a6fc9.js.map
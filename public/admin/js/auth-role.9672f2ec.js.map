{"version":3,"file":"js/auth-role.9672f2ec.js","mappings":"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","sources":["webpack://vue-cms-admin/./src/views/Role/List.vue","webpack://vue-cms-admin/src/views/Role/List.vue","webpack://vue-cms-admin/./src/views/Role/List.vue?652c","webpack://vue-cms-admin/./src/views/Role/List.vue?33ac"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-card',{staticClass:\"table-card\"},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"角色管理\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.insert_dialog_visible = true}}},[_vm._v(\" 添加角色 \")])],1),_c('el-table',{attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"role_id\",\"label\":\"#\",\"width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.role_name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"role_code\",\"label\":\"角色代码\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_description\",\"label\":\"角色描述\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"disabled\":scope.row.editable === 0,\"icon\":\"el-icon-edit\",\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.openEditDialog(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"disabled\":scope.row.editable === 0,\"icon\":\"el-icon-delete\",\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleRemoveRole(scope.row.role_id, scope.$index)}}},[_vm._v(\" 删除 \")]),_c('el-link',{staticClass:\"am-margin-left-sm\",attrs:{\"href\":`#/system/role/${scope.row.role_id}`,\"underline\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"plain\":\"\",\"icon\":\"el-icon-setting\"}},[_vm._v(\" 权限 \")])],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.insert_dialog_visible},on:{\"update:visible\":function($event){_vm.insert_dialog_visible=$event},\"close\":function($event){return _vm.handleDialogClose('insert_form')}}},[_c('el-form',{ref:\"insert_form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.insert_form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"role_name\"}},[_c('el-input',{model:{value:(_vm.insert_form.role_name),callback:function ($$v) {_vm.$set(_vm.insert_form, \"role_name\", $$v)},expression:\"insert_form.role_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色代码\",\"prop\":\"role_code\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入大写英文的角色代码\"},model:{value:(_vm.insert_form.role_code),callback:function ($$v) {_vm.$set(_vm.insert_form, \"role_code\", $$v)},expression:\"insert_form.role_code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"role_description\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色的说明文字\"},model:{value:(_vm.insert_form.role_description),callback:function ($$v) {_vm.$set(_vm.insert_form, \"role_description\", $$v)},expression:\"insert_form.role_description\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.insert_dialog_visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleInsertRole}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑角色\",\"visible\":_vm.edit_dialog_visible},on:{\"update:visible\":function($event){_vm.edit_dialog_visible=$event},\"close\":function($event){return _vm.handleDialogClose('edit_form')}}},[_c('el-form',{ref:\"edit_form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.edit_form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"role_name\"}},[_c('el-input',{model:{value:(_vm.edit_form.role_name),callback:function ($$v) {_vm.$set(_vm.edit_form, \"role_name\", $$v)},expression:\"edit_form.role_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色代码\",\"prop\":\"role_code\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入大写英文的角色代码\"},model:{value:(_vm.edit_form.role_code),callback:function ($$v) {_vm.$set(_vm.edit_form, \"role_code\", $$v)},expression:\"edit_form.role_code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"role_description\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入角色的说明文字\"},model:{value:(_vm.edit_form.role_description),callback:function ($$v) {_vm.$set(_vm.edit_form, \"role_description\", $$v)},expression:\"edit_form.role_description\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.edit_dialog_visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEditRole}},[_vm._v(\"保 存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card class=\"table-card\">\r\n      <div slot=\"header\" class=\"header\">\r\n        <span>角色管理</span>\r\n        <el-button @click=\"insert_dialog_visible = true\" icon=\"el-icon-circle-plus-outline\" plain type=\"primary\">\r\n          添加角色\r\n        </el-button>\r\n      </div>\r\n      <el-table :data=\"tableData\">\r\n        <el-table-column prop=\"role_id\" label=\"#\" width=\"60\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"role_name\" label=\"角色名称\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag>{{ scope.row.role_name }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"role_code\" label=\"角色代码\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"role_description\" label=\"角色描述\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button :disabled=\"scope.row.editable === 0\" @click=\"openEditDialog(scope.row)\" icon=\"el-icon-edit\" plain\r\n              type=\"primary\">\r\n              编辑\r\n            </el-button>\r\n            <el-button :disabled=\"scope.row.editable === 0\" @click=\"handleRemoveRole(scope.row.role_id, scope.$index)\"\r\n              icon=\"el-icon-delete\" plain type=\"danger\">\r\n              删除\r\n            </el-button>\r\n            <el-link :href=\"`#/system/role/${scope.row.role_id}`\" :underline=\"false\" class=\"am-margin-left-sm\">\r\n              <el-button type=\"warning\" plain icon=\"el-icon-setting\">\r\n                权限\r\n              </el-button>\r\n            </el-link>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <!-- 添加角色 -->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"insert_dialog_visible\" @close=\"handleDialogClose('insert_form')\">\r\n      <el-form ref=\"insert_form\" :rules=\"rules\" :model=\"insert_form\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"role_name\">\r\n          <el-input v-model=\"insert_form.role_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色代码\" prop=\"role_code\">\r\n          <el-input v-model=\"insert_form.role_code\" placeholder=\"请输入大写英文的角色代码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"role_description\">\r\n          <el-input v-model=\"insert_form.role_description\" placeholder=\"请输入角色的说明文字\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"insert_dialog_visible = false\">取 消</el-button>\r\n        <el-button @click=\"handleInsertRole\" type=\"primary\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 编辑角色 -->\r\n    <el-dialog title=\"编辑角色\" :visible.sync=\"edit_dialog_visible\" @close=\"handleDialogClose('edit_form')\">\r\n      <el-form ref=\"edit_form\" :rules=\"rules\" :model=\"edit_form\" label-width=\"80px\">\r\n        <el-form-item label=\"角色名称\" prop=\"role_name\">\r\n          <el-input v-model=\"edit_form.role_name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色代码\" prop=\"role_code\">\r\n          <el-input v-model=\"edit_form.role_code\" placeholder=\"请输入大写英文的角色代码\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"role_description\">\r\n          <el-input v-model=\"edit_form.role_description\" placeholder=\"请输入角色的说明文字\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"edit_dialog_visible = false\">取 消</el-button>\r\n        <el-button @click=\"handleEditRole\" type=\"primary\">保 存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Role } from '@/api/';\r\n\r\nexport default {\r\n  name: \"Role\",\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      insert_dialog_visible: false,\r\n      insert_form: {\r\n        role_name: '',\r\n        role_code: '',\r\n        role_description: '',\r\n      },\r\n      edit_dialog_visible: false,\r\n      edit_form: {\r\n        role_id: '',\r\n        role_name: '',\r\n        role_code: '',\r\n        role_description: '',\r\n      },\r\n      setting_visible: false,\r\n      //当前操作行row的角色\r\n      current_role: '',\r\n      rules: {\r\n        role_name: [{ required: true, message: \"请输入角色名称\", trigger: 'blur' }],\r\n        role_code: [{ required: true, message: \"请输入大写英文的角色代码\", trigger: 'blur' }],\r\n        role_description: [{ required: true, message: \"请输入角色的说明文字\", trigger: 'blur' }],\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    document.title = \"角色管理\";\r\n    // 角色列表\r\n    this.loadRoleList();\r\n  },\r\n  methods: {\r\n    // 加载角色列表\r\n    async loadRoleList() {\r\n      let { status, data } = await Role.list()\r\n      if (status) {\r\n        this.tableData = data;\r\n      }\r\n    },\r\n    // 添加角色\r\n    handleInsertRole() {\r\n      this.$refs.insert_form.validate(async (valid) => {\r\n        if (valid) {\r\n          let { status, msg, data } = await Role.insert({ ...this.insert_form });\r\n          if (status) {\r\n            // 操作DOM\r\n            this.tableData.push({ ...data, ...this.insert_form });\r\n            // 关闭弹窗\r\n            this.insert_dialog_visible = false;\r\n            // 消息提示\r\n            this.$message.success(msg);\r\n          } else {\r\n            // 消息提示\r\n            this.$message.error(msg);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 打开编辑弹窗\r\n    openEditDialog(role) {\r\n      // 缓存角色指针地址\r\n      this.current_role = role;\r\n      // 还原表单\r\n      this.edit_form = { ...role };\r\n      // 打开 dialog\r\n      this.edit_dialog_visible = true;\r\n    },\r\n    // 编辑角色\r\n    handleEditRole() {\r\n      let { role_id } = this.edit_form;\r\n      this.$refs.edit_form.validate(async (valid) => {\r\n        if (valid) {\r\n          let { status, msg } = await Role.edit(role_id, { ...this.edit_form });\r\n          if (status) {\r\n            // 操作DOM\r\n            Object.assign(this.current_role, this.edit_form);\r\n            // 关闭弹窗\r\n            this.edit_dialog_visible = false;\r\n            // 信息提示\r\n            this.$message.success(msg);\r\n          } else {\r\n            // 信息提示\r\n            this.$message.error(msg);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 删除角色\r\n    async handleRemoveRole(role_id, index) {\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', { type: 'warning' })\r\n        .then(async () => {\r\n          // 删除角色\r\n          let { status, msg } = await Role.remove(role_id);\r\n          if (status) {\r\n            // 操作DOM\r\n            this.tableData.splice(index, 1);\r\n            // 信息提示\r\n            this.$message.success(msg);\r\n          } else {\r\n            this.$message.error(msg);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.info('取消成功！');\r\n        });\r\n    },\r\n    // 关闭弹窗\r\n    handleDialogClose(form) {\r\n      this.$refs[form].resetFields();\r\n    },\r\n\r\n  }\r\n}\r\n// TODO 设置角色需要重新设计，角色增加多个字段，editable\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.table-card {\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=7a3708bb&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=7a3708bb&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","on","$event","insert_dialog_visible","tableData","scopedSlots","_u","key","fn","scope","_s","row","role_name","editable","openEditDialog","handleRemoveRole","role_id","$index","handleDialogClose","ref","rules","insert_form","model","value","callback","$$v","$set","expression","role_code","role_description","handleInsertRole","edit_dialog_visible","edit_form","handleEditRole","staticRenderFns","name","data","setting_visible","current_role","required","message","trigger","created","document","title","loadRoleList","methods","status","Role","$refs","validate","valid","msg","push","$message","success","error","role","Object","assign","index","$confirm","type","then","splice","catch","info","form","resetFields","component"],"sourceRoot":""}
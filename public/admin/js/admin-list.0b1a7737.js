"use strict";(self["webpackChunkvue_cms_admin"]=self["webpackChunkvue_cms_admin"]||[]).push([[880],{7841:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("el-card",{},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[e._v("管理员列表")])]),t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"user_id",label:"#"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{prop:"fullname",label:"姓名"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t("el-table-column",{attrs:{prop:"tel",label:"手机"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"180"}}),t("el-table-column",{attrs:{label:"头像"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-avatar",{attrs:{shape:"square",src:e.row.avatar}})]}}])}),t("el-table-column",{attrs:{label:"角色"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:a.row.role_id?"":"info"}},[e._v(" "+e._s(a.row.role_name||"待分配")+" ")])]}}])}),t("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1===a.row.usable?t("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),-1===a.row.usable?t("el-tag",{attrs:{type:"warning"}},[e._v("审核中")]):e._e(),-2===a.row.usable?t("el-tag",{attrs:{type:"info"}},[e._v("禁用")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"操作",width:"270"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{staticClass:"am-margin-right-sm",attrs:{href:`#/system/admin/edit/${a.row.user_id}`,underline:!1,type:"primary"}},[t("el-button",{attrs:{icon:"el-icon-edit",type:"primary",plain:""}},[e._v("编辑")])],1),t("el-button",{attrs:{disabled:1===a.row.user_id,type:"warning",icon:"el-icon-delete",plain:""}},[e._v(" 审核 ")]),t("el-button",{attrs:{disabled:1===a.row.user_id,type:"danger",icon:"el-icon-delete",plain:""},on:{click:function(t){return e.handleRemove(a.row.user_id,a.$index)}}},[e._v(" 删除 ")])]}}])})],1)],1)},s=[],r=a(1862),n={data(){return{tableData:[]}},created(){document.title="管理员列表",this.loadList()},methods:{async loadList(){let{status:e,data:t}=await r.wt.list();e&&(this.tableData=t)},handleRemove(e,t){this.$confirm("此操作将永久删除该管理员, 是否继续?",{type:"warning"}).then((async()=>{let{status:a,msg:l}=await r.wt.remove({user_id:e});a&&(this.tableData.splice(t,1),this.$message.success(l))})).catch((()=>{this.$message.info("取消成功")}))}}},o=n,i=a(1001),u=(0,i.Z)(o,l,s,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=admin-list.0b1a7737.js.map
{"version":3,"file":"js/148.ec18f982.js","mappings":"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","sources":["webpack://vue-cms-admin/./src/components/SingleUpload.vue","webpack://vue-cms-admin/src/components/SingleUpload.vue","webpack://vue-cms-admin/./src/components/SingleUpload.vue?d5c9","webpack://vue-cms-admin/./src/components/SingleUpload.vue?7fb2","webpack://vue-cms-admin/./src/views/Slide/List.vue","webpack://vue-cms-admin/src/views/Slide/List.vue","webpack://vue-cms-admin/./src/views/Slide/List.vue?a5d7","webpack://vue-cms-admin/./src/views/Slide/List.vue?738c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadAction,\"before-upload\":_vm.handleBeforeUpload,\"data\":_vm.data,\"headers\":_vm.headers,\"on-error\":_vm.handleUploadError,\"on-success\":_vm.handleUploadSuccess,\"show-file-list\":false}},[(_vm.value)?[_c('div',{staticClass:\"cover\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleRemove.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-delete avatar-uploader-icon\"})]),_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.value}})]:_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<el-upload :action=\"uploadAction\" :before-upload=\"handleBeforeUpload\" :data=\"data\" :headers=\"headers\" :on-error=\"handleUploadError\" :on-success=\"handleUploadSuccess\" :show-file-list=\"false\" class=\"avatar-uploader\">\r\n\t\t<template v-if=\"value\">\r\n\t\t\t<div class=\"cover\" @click.stop=\"handleRemove\"><i class=\"el-icon-delete avatar-uploader-icon\"></i></div>\r\n\t\t\t<img :src=\"value\" class=\"avatar\" />\r\n\t\t</template>\r\n\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t</el-upload>\r\n</template>\r\n\r\n<script>\r\n\t// 支持双向数据绑定，采用v-model\r\n\t// 支持$emit事件success,处理复杂上传成功回调函数\r\n\timport axios from 'axios';\r\n\r\n\texport default {\r\n\t\tname: 'single-upload',\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '',\r\n\t\t\t},\r\n\t\t\tdefaultImage: {\r\n\t\t\t\ttype: String\r\n\t\t\t},\r\n\t\t\tuploadAction: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tremoveAction: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttype: 'common'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${sessionStorage.access_token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 上传图片之前的检查\r\n\t\t\thandleBeforeUpload(file) {\r\n\t\t\t\tlet reg = /^image\\/(jpe?g|png)$/;\r\n\t\t\t\tconst isImg = reg.test(file.type);\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\t\tif (!isImg) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG/PNG 格式!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isImg && isLt2M;\r\n\t\t\t},\r\n\t\t\t// 上传图片成功\r\n\t\t\thandleUploadSuccess(res, file) {\r\n\t\t\t\t// 触发外部绑定的事件\r\n\t\t\t\tthis.$emit('success', res);\r\n\t\t\t\t// 双向数据绑定触发\r\n\t\t\t\tthis.$emit('input', res.src);\r\n\t\t\t},\r\n\t\t\t// 上传图片失败\r\n\t\t\thandleUploadError({ status, message }, file, fileList) {\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase 401:\r\n\t\t\t\t\t\tthis.$message.error(`错误:401,Token失效,请重新登录!`);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 400:\r\n\t\t\t\t\t\tmessage = JSON.parse(message);\r\n\t\t\t\t\t\tthis.$message.error(`错误:400,${message}`);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.$message.error(`错误:${status},${message}!`);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除现有图片\r\n\t\t\tasync handleRemove() {\r\n\t\t\t\t// 判断是否默认头像\r\n\t\t\t\tlet isDefault = this.value.includes(this.defaultImage);\r\n\t\t\t\t// 如果不是默认头像，物理删除图片\r\n\t\t\t\tif (!isDefault) {\r\n\t\t\t\t\tlet { status } = await axios.post(this.removeAction, { src: this.value });\r\n\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\tthis.$message.success('删除成功!');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 如果是默认头像，仅移除，不做物理删除\r\n\t\t\t\tthis.$emit('input', '');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\r\n\t\t&:hover {\r\n\t\t\tborder-color: #409eff;\r\n\t\t}\r\n\r\n\t\t.avatar-uploader-icon {\r\n\t\t\tfont-size: 20px;\r\n\t\t\tcolor: #8c939d;\r\n\t\t\twidth: 150px;\r\n\t\t\theight: 150px;\r\n\t\t\tline-height: 150px;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.cover {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tz-index: 2;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.7);\r\n\t\t\topacity: 0;\r\n\t\t\ttransition: all 0.5s;\r\n\r\n\t\t\t.el-icon-delete {\r\n\t\t\t\tcolor: white;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&:hover .cover {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t.avatar {\r\n\t\t\twidth: 150px;\r\n\t\t\theight: 150px;\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleUpload.vue?vue&type=template&id=b759919a&\"\nimport script from \"./SingleUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingleUpload.vue?vue&type=style&index=0&id=b759919a&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"table-card\"},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"轮播图管理\")]),_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.insert_dialog_visible = true}}},[_vm._v(\" 添加轮播 \")])],1),_c('el-table',{attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"slide_id\",\"label\":\"#\",\"width\":\"40\"}}),_c('el-table-column',{attrs:{\"prop\":\"picture\",\"label\":\"轮播图片\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"150px\"},attrs:{\"src\":scope.row.picture,\"fit\":\"cover\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"链接标题\"}}),_c('el-table-column',{attrs:{\"prop\":\"url\",\"label\":\"跳转地址\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"href\":scope.row.url,\"target\":\"_blank\"}},[_c('span',{staticClass:\"am-text-xs\"},[_vm._v(_vm._s(scope.row.url))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"target\",\"label\":\"跳转方式\"}}),_c('el-table-column',{attrs:{\"prop\":\"slide_order\",\"label\":\"排序数字\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.usable===1 ? 'success':'info'}},[_vm._v(\" \"+_vm._s(scope.row.usable === 1 ? '启用' : '禁用')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"create_time\",\"label\":\"添加日期\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"prop\":\"update_time\",\"label\":\"编辑日期\",\"width\":\"90\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.openEditDialog(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"icon\":\"el-icon-switch-button\",\"type\":scope.row.usable===1 ? 'info':'success',\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleSwitch(scope.row)}}},[_vm._v(\" \"+_vm._s(scope.row.usable === 1 ? '禁用' : '启用')+\" \")]),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleRemove(scope.row.slide_id,scope.$index)}}},[_vm._v(\" 删除 \")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"添加轮播图\",\"visible\":_vm.insert_dialog_visible},on:{\"update:visible\":function($event){_vm.insert_dialog_visible=$event},\"close\":function($event){return _vm.handleDialogClose('insert_form')}}},[_c('el-form',{ref:\"insert_form\",attrs:{\"model\":_vm.insert_form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"轮播图片\",\"prop\":\"picture\"}},[_c('single-upload',{attrs:{\"upload-action\":\"/upload/common/\",\"remove-action\":\"/upload/remove/\",\"data\":{ type: 'common' }},model:{value:(_vm.insert_form.picture),callback:function ($$v) {_vm.$set(_vm.insert_form, \"picture\", $$v)},expression:\"insert_form.picture\"}})],1),_c('el-form-item',{attrs:{\"label\":\"标题文字\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"文字将作为标题，显示在图片上\"},model:{value:(_vm.insert_form.title),callback:function ($$v) {_vm.$set(_vm.insert_form, \"title\", $$v)},expression:\"insert_form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"链接地址\",\"prop\":\"url\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入完整的链接地址\"},model:{value:(_vm.insert_form.url),callback:function ($$v) {_vm.$set(_vm.insert_form, \"url\", $$v)},expression:\"insert_form.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"跳转方式\",\"prop\":\"target\"}},[_c('el-radio',{attrs:{\"label\":\"_blank\"},model:{value:(_vm.insert_form.target),callback:function ($$v) {_vm.$set(_vm.insert_form, \"target\", $$v)},expression:\"insert_form.target\"}},[_vm._v(\"新窗口跳转\")]),_c('el-radio',{attrs:{\"label\":\"_self\"},model:{value:(_vm.insert_form.target),callback:function ($$v) {_vm.$set(_vm.insert_form, \"target\", $$v)},expression:\"insert_form.target\"}},[_vm._v(\"本窗口跳转\")])],1),_c('el-form-item',{attrs:{\"label\":\"显示排序\",\"prop\":\"slide_order\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入数字，数字越小，排序越靠前\"},model:{value:(_vm.insert_form.slide_order),callback:function ($$v) {_vm.$set(_vm.insert_form, \"slide_order\", $$v)},expression:\"insert_form.slide_order\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.insert_dialog_visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleInsert}},[_vm._v(\"添 加\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑轮播图\",\"visible\":_vm.edit_dialog_visible},on:{\"update:visible\":function($event){_vm.edit_dialog_visible=$event},\"close\":function($event){return _vm.handleDialogClose('edit_form')}}},[_c('el-form',{ref:\"edit_form\",attrs:{\"model\":_vm.edit_form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"轮播图片\",\"prop\":\"picture\"}},[_c('single-upload',{attrs:{\"upload-action\":\"/upload/common/\",\"remove-action\":\"/upload/remove/\",\"data\":{ type: 'common' }},model:{value:(_vm.edit_form.picture),callback:function ($$v) {_vm.$set(_vm.edit_form, \"picture\", $$v)},expression:\"edit_form.picture\"}})],1),_c('el-form-item',{attrs:{\"label\":\"标题文字\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"文字将作为标题，显示在图片上\"},model:{value:(_vm.edit_form.title),callback:function ($$v) {_vm.$set(_vm.edit_form, \"title\", $$v)},expression:\"edit_form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"链接地址\",\"prop\":\"url\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入完整的链接地址\"},model:{value:(_vm.edit_form.url),callback:function ($$v) {_vm.$set(_vm.edit_form, \"url\", $$v)},expression:\"edit_form.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"跳转方式\",\"prop\":\"target\"}},[_c('el-radio',{attrs:{\"label\":\"_blank\"},model:{value:(_vm.edit_form.target),callback:function ($$v) {_vm.$set(_vm.edit_form, \"target\", $$v)},expression:\"edit_form.target\"}},[_vm._v(\"新窗口跳转\")]),_c('el-radio',{attrs:{\"label\":\"_self\"},model:{value:(_vm.edit_form.target),callback:function ($$v) {_vm.$set(_vm.edit_form, \"target\", $$v)},expression:\"edit_form.target\"}},[_vm._v(\"本窗口跳转\")])],1),_c('el-form-item',{attrs:{\"label\":\"显示顺序\",\"prop\":\"slide_order\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入数字，数字越小，排序越靠前\"},model:{value:(_vm.edit_form.slide_order),callback:function ($$v) {_vm.$set(_vm.edit_form, \"slide_order\", $$v)},expression:\"edit_form.slide_order\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.edit_dialog_visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"保 存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<el-card class=\"table-card\">\r\n\t\t<div class=\"header\" slot=\"header\">\r\n\t\t\t<span>轮播图管理</span>\r\n\t\t\t<el-button @click=\"insert_dialog_visible = true\" plain type=\"primary\" icon=\"el-icon-circle-plus-outline\">\r\n\t\t\t\t添加轮播\r\n\t\t\t</el-button>\r\n\t\t</div>\r\n\t\t<el-table :data=\"tableData\">\r\n\t\t\t<el-table-column prop=\"slide_id\" label=\"#\" width=\"40\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"picture\" label=\"轮播图片\" width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-image style=\"width: 150px;\" :src=\"scope.row.picture\" fit=\"cover\"></el-image>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"title\" label=\"链接标题\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"url\" label=\"跳转地址\" width=\"200\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-link :href=\"scope.row.url\" target=\"_blank\">\r\n\t\t\t\t\t\t<span class=\"am-text-xs\">{{ scope.row.url }}</span>\r\n\t\t\t\t\t</el-link>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"target\" label=\"跳转方式\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"slide_order\" label=\"排序数字\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"状态\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag :type=\" scope.row.usable===1 ? 'success':'info' \">\r\n\t\t\t\t\t\t{{ scope.row.usable === 1 ? '启用' : '禁用' }}\r\n\t\t\t\t\t</el-tag>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"create_time\" label=\"添加日期\" width=\"90\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"update_time\" label=\"编辑日期\" width=\"90\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" width=\"280\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button @click=\"openEditDialog(scope.row)\" icon=\"el-icon-edit\" type=\"primary\" plain>\r\n\t\t\t\t\t\t编辑\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button @click=\"handleSwitch(scope.row)\" icon=\"el-icon-switch-button\" :type=\" scope.row.usable===1 ? 'info':'success' \" plain>\r\n\t\t\t\t\t\t{{ scope.row.usable === 1 ? '禁用' : '启用' }}\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button @click=\"handleRemove(scope.row.slide_id,scope.$index)\" icon=\"el-icon-delete\" type=\"danger\" plain>\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<!-- 添加轮播图 -->\r\n\t\t<el-dialog title=\"添加轮播图\" :visible.sync=\"insert_dialog_visible\" @close=\"handleDialogClose('insert_form')\">\r\n\t\t\t<el-form ref=\"insert_form\" :model=\"insert_form\" :rules=\"rules\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"轮播图片\" prop=\"picture\">\r\n\t\t\t\t\t<single-upload v-model=\"insert_form.picture\" upload-action=\"/upload/common/\" remove-action=\"/upload/remove/\" :data=\"{ type: 'common' }\"></single-upload>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"标题文字\" prop=\"title\">\r\n\t\t\t\t\t<el-input v-model=\"insert_form.title\" placeholder=\"文字将作为标题，显示在图片上\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"链接地址\" prop=\"url\">\r\n\t\t\t\t\t<el-input v-model=\"insert_form.url\" placeholder=\"请输入完整的链接地址\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"跳转方式\" prop=\"target\">\r\n\t\t\t\t\t<el-radio v-model=\"insert_form.target\" label=\"_blank\">新窗口跳转</el-radio>\r\n\t\t\t\t\t<el-radio v-model=\"insert_form.target\" label=\"_self\">本窗口跳转</el-radio>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"显示排序\" prop=\"slide_order\">\r\n\t\t\t\t\t<el-input v-model=\"insert_form.slide_order\" placeholder=\"请输入数字，数字越小，排序越靠前\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"insert_dialog_visible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleInsert\">添 加</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t<!-- 编辑轮播图 -->\r\n\t\t<el-dialog title=\"编辑轮播图\" :visible.sync=\"edit_dialog_visible\" @close=\"handleDialogClose('edit_form')\">\r\n\t\t\t<el-form ref=\"edit_form\" :model=\"edit_form\" :rules=\"rules\" label-width=\"80px\">\r\n\t\t\t\t<el-form-item label=\"轮播图片\" prop=\"picture\">\r\n\t\t\t\t\t<single-upload v-model=\"edit_form.picture\" upload-action=\"/upload/common/\" remove-action=\"/upload/remove/\" :data=\"{ type: 'common' }\"></single-upload>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"标题文字\" prop=\"title\">\r\n\t\t\t\t\t<el-input v-model=\"edit_form.title\" placeholder=\"文字将作为标题，显示在图片上\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"链接地址\" prop=\"url\">\r\n\t\t\t\t\t<el-input v-model=\"edit_form.url\" placeholder=\"请输入完整的链接地址\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"跳转方式\" prop=\"target\">\r\n\t\t\t\t\t<el-radio v-model=\"edit_form.target\" label=\"_blank\">新窗口跳转</el-radio>\r\n\t\t\t\t\t<el-radio v-model=\"edit_form.target\" label=\"_self\">本窗口跳转</el-radio>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"显示顺序\" prop=\"slide_order\">\r\n\t\t\t\t\t<el-input v-model=\"edit_form.slide_order\" placeholder=\"请输入数字，数字越小，排序越靠前\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"edit_dialog_visible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleEdit\">保 存</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t</el-card>\r\n</template>\r\n\r\n<script>\r\n\timport SingleUpload from '@/components/SingleUpload.vue';\r\n\timport { Slide } from '@/api/';\r\n\r\n\texport default {\r\n\t\tname: \"List\",\r\n\t\tcomponents: {\r\n\t\t\tSingleUpload,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tinsert_dialog_visible: false,\r\n\t\t\t\tinsert_form: {\r\n\t\t\t\t\tpicture: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\turl: 'http://',\r\n\t\t\t\t\ttarget: '_blank',\r\n\t\t\t\t\tslide_order: '',\r\n\t\t\t\t},\r\n\t\t\t\tedit_dialog_visible: false,\r\n\t\t\t\tcurrent_slide: '',\r\n\t\t\t\tedit_form: {\r\n\t\t\t\t\tslide_id: '',\r\n\t\t\t\t\tpicture: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\turl: '',\r\n\t\t\t\t\ttarget: '_blank',\r\n\t\t\t\t\tslide_order: '',\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tpicture: [{ required: true, message: '请上传一张轮播图片', trigger: 'change' }],\r\n\t\t\t\t\ttitle: [{ message: '请填写标题文字', trigger: 'blur' }],\r\n\t\t\t\t\turl: [{ type: \"url\", required: true, message: '请填写完整的链接地址', trigger: 'blur' }],\r\n\t\t\t\t\ttarget: [\r\n\t\t\t\t\t\t{ required: true, message: '请选择一种跳转方式', trigger: 'blur' },\r\n\t\t\t\t\t\t{ type: 'enum', enum: ['_blank', '_self'], message: '请选择合格跳转方式', trigger: 'blur' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tslide_order: [\r\n\t\t\t\t\t\t{ required: true, message: '请填写显示顺序！', trigger: 'blur' },\r\n\t\t\t\t\t\t{ pattern: /^\\d+$/, message: '顺序必须是数字组成！', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tdocument.title = \"轮播图管理\";\r\n\t\t\tthis.loadList();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 加载轮播图列表\r\n\t\t\tasync loadList() {\r\n\t\t\t\tlet { status, msg, data } = await Slide.list();\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tthis.tableData = data;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 插入新轮播图\r\n\t\t\thandleInsert() {\r\n\t\t\t\tthis.$refs.insert_form.validate(async (valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet { status, msg, data } = await Slide.insert(this.insert_form);\r\n\t\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\t\t// 更新DOM\r\n\t\t\t\t\t\t\tthis.tableData.push({ ...this.insert_form, ...data });\r\n\t\t\t\t\t\t\tthis.tableData.sort((itemA, itemB) => itemA.slide_order - itemB.slide_order);\r\n\t\t\t\t\t\t\t// 关闭弹窗\r\n\t\t\t\t\t\t\tthis.insert_dialog_visible = false;\r\n\t\t\t\t\t\t\t// 消息提示\r\n\t\t\t\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 打开编辑dialog\r\n\t\t\topenEditDialog(slide) {\r\n\t\t\t\tthis.current_slide = slide;\r\n\t\t\t\tthis.edit_form = { ...slide };\r\n\t\t\t\tthis.edit_dialog_visible = true;\r\n\t\t\t},\r\n\t\t\t// 编辑轮播图\r\n\t\t\thandleEdit() {\r\n\t\t\t\tthis.$refs.edit_form.validate(async (valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tlet { status, msg, data } = await Slide.edit(this.edit_form);\r\n\t\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\t\t// 更新DOM\r\n\t\t\t\t\t\t\tObject.assign(this.current_slide, this.edit_form);\r\n\t\t\t\t\t\t\t// 关闭弹窗\r\n\t\t\t\t\t\t\tthis.edit_dialog_visible = false;\r\n\t\t\t\t\t\t\t// 消息提示\r\n\t\t\t\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 删除轮播图\r\n\t\t\tasync handleRemove(slide_id, index) {\r\n\t\t\t\tthis.$confirm('此操作将永久删除该轮播图, 是否继续?', { type: 'warning' })\r\n\t\t\t\t\t.then(async () => {\r\n\t\t\t\t\t\t// 删除幻灯片\r\n\t\t\t\t\t\tlet { status, msg } = await Slide.remove({ slide_id });\r\n\t\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\t\tthis.tableData.splice(index, 1);\r\n\t\t\t\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tthis.$message.info('取消成功')\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 启用/禁用轮播图\r\n\t\t\thandleSwitch(slide) {\r\n\t\t\t\tlet { slide_id, usable } = slide;\r\n\t\t\t\tthis.$confirm(`此操作将${usable === 1 ? '禁用' : '启用'}该轮播图，是否继续？`, { type: 'warning' })\r\n\t\t\t\t\t.then(async () => {\r\n\t\t\t\t\t\t// 切换状态\r\n\t\t\t\t\t\tlet { status, msg } = await Slide.toggle({ slide_id, usable: -usable });\r\n\t\t\t\t\t\tif (status) {\r\n\t\t\t\t\t\t\t// 操作DOM\r\n\t\t\t\t\t\t\tObject.assign(slide, { usable: -usable });\r\n\t\t\t\t\t\t\tthis.$message.success(msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tthis.$message.info('取消成功')\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 关闭dialog弹窗\r\n\t\t\thandleDialogClose(form) {\r\n\t\t\t\tthis.$refs[form].resetFields();\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.table-card {\r\n\t\t.header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=b2942a90&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=b2942a90&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2942a90\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","uploadAction","handleBeforeUpload","data","headers","handleUploadError","handleUploadSuccess","value","on","$event","stopPropagation","handleRemove","apply","arguments","staticRenderFns","name","props","type","String","default","defaultImage","required","removeAction","Object","Authorization","sessionStorage","access_token","methods","file","reg","isImg","test","isLt2M","size","$message","error","res","$emit","src","status","message","fileList","JSON","parse","isDefault","includes","axios","success","component","slot","_v","insert_dialog_visible","tableData","scopedSlots","_u","key","fn","scope","staticStyle","row","picture","url","_s","usable","openEditDialog","handleSwitch","slide_id","$index","handleDialogClose","ref","insert_form","rules","model","callback","$$v","$set","expression","title","target","slide_order","handleInsert","edit_dialog_visible","edit_form","handleEdit","components","SingleUpload","current_slide","trigger","enum","pattern","created","document","loadList","msg","Slide","$refs","validate","valid","push","sort","itemA","itemB","slide","assign","index","$confirm","then","splice","catch","info","form","resetFields"],"sourceRoot":""}
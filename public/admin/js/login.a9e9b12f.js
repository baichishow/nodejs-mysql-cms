"use strict";(self["webpackChunkvue_cms_admin"]=self["webpackChunkvue_cms_admin"]||[]).push([[535],{6844:function(e,r,s){s.r(r),s.d(r,{default:function(){return m}});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"bg"},[r("el-card",{staticClass:"form-box",attrs:{shadow:"always"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("登录")])]),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"60px"}},[r("el-form-item",{attrs:{label:"账户",prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入账户名!"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username","string"===typeof r?r.trim():r)},expression:"form.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","prefix-icon":"el-icon-key",placeholder:"请输入密码!"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.handleLogin}},[e._v("登录")])],1)],1),r("div",{staticClass:"link-box"},[r("router-link",{attrs:{to:"/register"}},[e._v("注册账户")]),r("router-link",{attrs:{to:"/"}},[e._v("忘记密码？")])],1)],1)],1)},a=[],o=s(1803),i={data(){return{form:{username:"admin",password:"123"},rules:{username:[{required:!0,message:"请输入账号！",trigger:"blur"},{min:3,max:20,message:"账户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{type:"string",required:!0,message:"请输入密码！",trigger:"blur"},{type:"string",pattern:/^\d{3,20}$/,message:"请输入在 3 到 20 个数字",trigger:"blur"}]}}},created(){document.title="登录"},methods:{handleLogin(){this.$refs.form.validate((async e=>{if(e){let{status:e,msg:r,data:s}=await o.wt.login({...this.form});if(e){this.$message.success(r),sessionStorage.access_token=s.access_token,sessionStorage.refresh_token=s.refresh_token,sessionStorage.user_id=s.user_id,sessionStorage.role_id=s.role_id;let{redirect:e}=this.$route.query;e?this.$router.replace(e):this.$router.replace("/article/list")}else this.$message.error(r)}}))}}},l=i,n=s(1001),u=(0,n.Z)(l,t,a,!1,null,"54f63549",null),m=u.exports}}]);
//# sourceMappingURL=login.a9e9b12f.js.map
"use strict";(self["webpackChunkvue_cms_admin"]=self["webpackChunkvue_cms_admin"]||[]).push([[978],{9872:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{},[t("div",{attrs:{slot:"header"},slot:"header"},[t("span",[e._v("编辑公告")])]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"标题",prop:"title"}},[t("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),t("el-form-item",{attrs:{label:"置顶",prop:"is_sticky"}},[t("el-radio",{attrs:{label:1},model:{value:e.form.is_sticky,callback:function(t){e.$set(e.form,"is_sticky",t)},expression:"form.is_sticky"}},[e._v("是")]),t("el-radio",{attrs:{label:0},model:{value:e.form.is_sticky,callback:function(t){e.$set(e.form,"is_sticky",t)},expression:"form.is_sticky"}},[e._v("否")])],1),t("el-form-item",{attrs:{label:"内容",prop:"content"}},[t("wang-editor",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleEdit}},[e._v("保存修改")])],1)],1)],1)],1)},s=[],l=r(1803),o=r(5406),a={name:"Edit",props:["notice_id"],components:{WangEditor:o.Z},data(){return{form:{notice_id:"",title:"",is_sticky:"1",content:""},rules:{title:[{type:"string",required:!0,message:"请输入公告标题",trigger:"blur"},{min:2,max:40,message:"公告标题长度在 2 到 40 个字符",trigger:"blur"}],is_sticky:[{type:"number",required:!0,message:"请选择是否置顶",trigger:"change"}],content:[{type:"string",required:!0,message:"请填写公告内容",trigger:"blur"}]}}},watch:{$route:"mounted"},created(){document.title="编辑公告"},async mounted(){let{status:e,data:t}=await l.qX.detail({notice_id:this.notice_id});e&&(this.form=t)},methods:{handleEdit(){this.$refs.form.validate((async e=>{if(e){let{status:e,msg:t}=await l.qX.edit(this.form);e?(this.$message.success(t),this.$router.replace("/notice/list")):this.$message.error(t)}}))}}},n=a,c=r(1001),m=(0,c.Z)(n,i,s,!1,null,null,null),u=m.exports}}]);
//# sourceMappingURL=notice-edit.f52acb69.js.map